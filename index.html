<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="description" content="Esri App Challenge 2019">

    <title>SUN: Sustainable Urban Networks</title>

    <!-- Calcite Maps Bootstrap -->
    <link rel="stylesheet" href="https://esri.github.io/calcite-maps/dist/css/calcite-maps-bootstrap.min-v0.10.css">
    <!--link rel="stylesheet" href="http://localhost/GitHub/calcite-maps/dist/css/calcite-maps-bootstrap.min-v0.10.css"-->

    <!-- Calcite Maps -->
    <link rel="stylesheet" href="https://esri.github.io/calcite-maps/dist/css/calcite-maps-arcgis-4.x.min-v0.10.css">
    <!--link rel="stylesheet" href="http://localhost/GitHub/calcite-maps/dist/css/calcite-maps-arcgis-4.x.min-v0.10.css"-->

    <!-- ArcGIS JS 4 -->
    <link rel="stylesheet" href="https://js.arcgis.com/4.10/esri/css/main.css">

    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
        }
    </style>

</head>

<body class="calcite-maps calcite-nav-top">
<!-- Navbar -->

<nav class="navbar calcite-navbar navbar-fixed-top calcite-text-light calcite-bg-dark">
    <!-- Menu -->
    <div class="dropdown calcite-dropdown calcite-text-dark calcite-bg-light" role="presentation">
        <a class="dropdown-toggle" role="menubutton" aria-haspopup="true" aria-expanded="false" tabindex="0">
            <div class="calcite-dropdown-toggle">
                <span class="sr-only">Toggle dropdown menu</span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </a>
        <ul class="dropdown-menu" role="menu">
            <li><a role="menuitem" tabindex="0" data-target="#panelInfo" aria-haspopup="true"><span
                    class="glyphicon glyphicon-info-sign"></span> About</a></li>
            <li><a role="menuitem" tabindex="0" href="#" id="calciteToggleNavbar" aria-haspopup="true"><span
                    class="glyphicon glyphicon-fullscreen"></span> Full Map</a></li>
        </ul>
    </div>
    <!-- Title -->
    <div class="calcite-title calcite-overflow-hidden">
        <span class="calcite-title-main">SUN</span>
        <span class="calcite-title-divider hidden-xs"></span>
        <span class="calcite-title-sub hidden-xs">Sustainable Urban Networks</span>
    </div>
    <!-- Nav -->
    <ul class="nav navbar-nav calcite-nav">
        <li>
            <div class="calcite-navbar-search calcite-search-expander">
                <div id="searchWidgetDiv"></div>
            </div>
        </li>
    </ul>
</nav>

<!--/.calcite-navbar -->

<!-- Map  -->

<div class="calcite-map calcite-map-absolute">
    <div id="mapViewDiv"></div>
</div>

<!-- /.calcite-map -->

<!-- Panels -->

<div class="calcite-panels calcite-panels-right calcite-text-light calcite-bg-dark panel-group">

    <!-- Panel - Basemaps -->

    <div id="panelInfo" class="panel collapse in">
        <div id="headingInfo" class="panel-heading" role="tab">
            <div class="panel-title">
                <a class="panel-toggle" role="button" data-toggle="collapse" href="#collapseInfo" aria-expanded="true"
                   aria-controls="collapseInfo"><span class="glyphicon glyphicon-info-sign"
                                                      aria-hidden="true"></span><span
                        class="panel-label"></span></a>
                <a class="panel-close" role="button" data-toggle="collapse" tabindex="0" href="#panelInfo"><span
                        class="esri-icon esri-icon-close" aria-hidden="true"></span></a>
            </div>
        </div>

        <div id="collapseInfo" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingInfo">
            <div class="panel-body">

                <ul class="nav nav-tabs">
                    <li class="active"><a data-toggle="tab" href="#home">Routes</a></li>
                    <li><a data-toggle="tab" href="#menu1">Service Areas</a></li>
                    <li><a data-toggle="tab" href="#menu2">Accessibility</a></li>
                </ul>
                <div class="tab-content">

                    <div id="home" class="tab-pane fade in active">
                        <div class="calcite-form-title">Routes taken by modes of transportation can differ. Set the origin
                            and the destination by first clicking the search text box, then typing an address or clicking a location on the map.</div>
                        <label for="SrcInput" class="col-xs-3">Origin</label>
                        <div class="col-xs-9">
                            <div id="SrcInput" class="calcite-form-search"></div>
                        </div>

                        <label for="DstInput" class="col-xs-3">Destination</label>
                        <div class="col-xs-9">
                            <div id="DstInput" class="calcite-form-search"></div>
                        </div>
                        <div>
                            <br><br><br><br>
                            Time difference of public transport(orange) and driving(white):
                            <div id="timeDiffContainer">0 min</div>
                        </div>


<!--                        <label for="time1">Drop down Time box:</label>-->
<!--                        <input class="dropdown calcite-dropdown" type="text" name="date1" id="time1" value="T15:00:00"-->
<!--                               data-dojo-type="dijit/form/TimeTextBox"-->
<!--                               onChange="require(['dojo/dom'], function(dom){dom.byId('val').value=dom.byId('time1').value.toString().replace(/.*1970\s(\S+).*/,'T$1')})"-->
<!--                               required="true" />-->
<!--                        <br>string value: <input id="val" value="value not changed" readonly="readonly" disabled="disabled" />-->
                    </div>
                    <div id="menu1" class="tab-pane fade">
                        <div class="calcite-form-title">Service areas show which roads can be reached within a given travel time. Set the origin and travel time to visualize the coverage areas.</div>
                        <label for="originContainer" class="col-xs-3 control-label">Location</label>
                        <div class="col-xs-9">
                            <div id="originContainer" class="calcite-form-search"></div>
                        </div>
                        <label for="selectTravelTime" class="col-xs-3 control-label">Time (min)</label>
                        <div class="col-xs-9">
                            <select id="selectTravelTime" class="form-control">
                                <option value="15">15</option>
                                <option value="30">30</option>
                                <option value="45">45</option>
                                <option value="60">60</option>
                            </select>
                        </div>
                        <br><br><br><br>
                        <p>Shaded regions are computed service areas for public transport(orange) and driving(white) in the current time.</p>
                    </div>
                    <div id="menu2" class="tab-pane fade">
                        <div class="calcite-form-title">Set the destination by typing an address or clicking the map.
                            The routes originating from each neighborhood will be computed for both driving and public transport modes.
                            The visualization shows the travel time difference for each neighborhood.
                            <br><br>Darker color means higher difference.
                            <br><br><h6>*Limited: slow progressive update</h6>
                        </div>
                        <label for="neighborSearchContainer" class="col-xs-3 control-label">Location</label>
                        <div class="col-xs-9">
                            <div id="neighborSearchContainer" class="calcite-form-search"></div>
                        </div>
                    </div>
                </div>

            </div><!-- /.panel-body -->
        </div><!-- /.panel-collapse -->


    </div>

</div>

<!-- /.calcite-panels -->

<script type="text/javascript">
    var dojoConfig = {
        packages: [{
            name: "bootstrap",
            location: location.pathname.replace(/\/[^/]+$/, "") + "/dist/vendor/dojo-bootstrap"
        },
        {
            name: "calcite-maps",
            location: location.pathname.replace(/\/[^/]+$/, "") + "/dist/js/dojo"
        }]
    };
</script>

<!-- ArcGIS JS 4 -->
<script src="https://js.arcgis.com/4.10/"></script>

<script src="js/sun.js"></script>

</body>
</html>